<!doctype html><html lang="en"><head><meta name="viewport" content="initial-scale=1,user-scalable=no"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><link rel="shortcut icon" href="/favicon.png" type="image/x-icon"/><link rel="icon" href="/favicon.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="Blasthole_Dipping"/><link rel="apple-touch-icon" href="/logo192.png"/><link rel="manifest" href="/manifest.json"/><title>Drill & Blast QAQC</title><link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/><link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css"/><link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css"/><script src="https://kit.fontawesome.com/05c6b543c0.js" crossorigin="anonymous"></script><script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script><script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/hosuaby/Leaflet.SmoothMarkerBouncing@v2.0.0/dist/bundle.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-1.10.2.js"></script><script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script><script src="jquery-csv.js"></script><link href="/static/css/2.3661fc73.chunk.css" rel="stylesheet"><link href="/static/css/main.f0fc2c29.chunk.css" rel="stylesheet"></head><body><div id="map"></div><div id="root" class="splash"></div><div class="custom-popup" id="popup"></div><div id="message"></div><div id="worksheet"></div><div id="locationbuttons"><img src="/images/btn-Locate@2x.png" width="50" height="50" class="mapbutton" title="Centre User Position" onclick="centerUser()" style="cursor:pointer"/> <img src="/images/btn-Centre-Map@2x.png" width="50" height="50" class="mapbutton" title="Centre Site Position" onclick="centerSite()" style="cursor:pointer"/></div><div id="uploadform" class="uploads"><label>UPLOAD DRILL PATTERN :</label><br/><br/><label>Ensure CSV columns:</label><br/><label>Hole_No,Lng,Lat,Collar,Toe,Dia,Brg,Angle</label><br/><br/><input id="pattern" placeholder="Input Pattern Name" style="width:200px;font:normal 18px Arial"/><br/><br/><form id="uploadForm" name="uploadForm" action="#" enctype="multipart/form-data"><input id="csv" name="csv" type="file" style="margin-left:0;font:normal 16px arial"/><br/><br/><input id="CSVUpload" type="submit" class="btn btn-default" name="Submit" value="Upload"/> <input type="button" value="Cancel" class="btn" onclick='$("#uploadform").hide()'/></form></div><script>if(window.login=!1,window.email,window.password,window.holedata,null==localStorage.getItem("sitelat")||null==localStorage.getItem("sitelat")){}let currentpos,currentPositionMarker,currentlat,currentlng,holeIcon,redIcon,orangeIcon,greenIcon,blastIcon,sitelat=1*localStorage.getItem("sitelat"),sitelng=1*localStorage.getItem("sitelng"),wpid=!1,markerscales=[1,2,3,4,5,6,7,8,9,10,14,18,22,25,28,32,35,38,40,42,44,46,48,50],currentposmarker=new L.LayerGroup,holemarkers=new L.LayerGroup,patternmarkers=new L.LayerGroup,polygons=new L.LayerGroup;function getIcon(e,o,t,r){return L.icon({id:"",event_id:"",iconUrl:e,iconSize:o,iconAnchor:t,popupAnchor:r})}function initMap(){map=L.map("map",{minZoom:3,maxZoom:23}).setView([sitelat,sitelng],18),map.zoomControl.setPosition("bottomright"),navigator.onLine,map.on("zoomend",(function(){let e=map.getZoom();markerscales[e];map.getZoom()<21?$(".leaflet-tooltip-own").css("display","none"):$(".leaflet-tooltip-own").css("display","block"),map.getZoom()>16&&map.getZoom()<21?$(".patternmarkers").css("display","block"):$(".patternmarkers").css("display","none")})),holeIcon=L.Icon.extend({iconUrl:"/images/bh_white.png?n=1",iconSize:[10,10],iconAnchor:[5,5]}),redIcon=L.Icon.extend({iconUrl:"/images/bh_red.png?n=1",iconSize:[10,10],iconAnchor:[5,5]}),orangeIcon=L.Icon.extend({iconUrl:"/images/bh_orange.png?n=1",iconSize:[10,10],iconAnchor:[5,5]}),greenIcon=L.Icon.extend({iconUrl:"/images/bh_green.png?n=1",iconSize:[10,10],iconAnchor:[5,5]}),blastIcon=L.Icon.extend({iconUrl:"/images/bh_blue.png?n=1",iconSize:[2,2],iconAnchor:[1,1]}),1==window.login&&openDb()}function displayAndWatch(e){setCurrentPosition(e)}function locError(e){switch(e.code){case e.PERMISSION_DENIED:break;case e.POSITION_UNAVAILABLE:case e.TIMEOUT:case e.UNKNOWN_ERROR:wpid=navigator.geolocation.getCurrentPosition(displayAndWatch,locError,{maximumAge:0,timeout:1e3,enableHighAccuracy:!0})}}function setCurrentPosition(e){currentlat=e.coords.latitude,currentlng=e.coords.longitude,currentposmarker.clearLayers(),currentPositionMarker=L.marker([e.coords.latitude,e.coords.longitude],{icon:L.icon({iconUrl:"/images/pos.png",iconSize:[2,2],iconAnchor:[1,1]}),tap:!1}).addTo(map),currentposmarker.addLayer(currentPositionMarker)}function showMessage(e){$("#message").html(e).css({display:"table-cell"}).show(),setTimeout((function(){$("#message").html("").hide()}),3e3)}var geojson,blastKey;function getPolygons(){if(window.login=!0)if("true"==localStorage.getItem("bh_database"))if(navigator.onLine){showMessage("CONNECTED: Syncing with HaulSmart");var e="https://www.haulsmart.com/apis/blastpolygons.php?email="+localStorage.getItem("email")+"&password="+localStorage.getItem("password");$.ajax({url:e,dataType:"json",type:"GET",async:!1,success:function(e){geojson=e,L.geoJson(geojson,{style:areaStyle,onEachFeature:onEachFeature}).addTo(map);for(var o=0;o<geojson.features.length;o++){var t=L.marker([geojson.features[o].properties.lat,geojson.features[o].properties.lng],{icon:L.icon({iconUrl:"/images/bh_blue.png?n=1",iconSize:[2,2],iconAnchor:[1,1]}),tap:!1}).addTo(map);t.bindTooltip(geojson.features[o].properties.Block,{permanent:!0,direction:"right",offset:[0,0],className:"patternmarkers"}),patternmarkers.addLayer(t)}var r,n=window.db.transaction("polygons","readwrite").objectStore("polygons");r=n.clear();try{r=n.add(geojson)}catch(e){throw e}r.onsuccess=function(e){showMessage("Insertion in device storage successful")},r.onerror=function(){showMessage("Insertion in device storage Failed ",this.error)}},error:function(){showMessage("ERROR: Cannot sync with HaulSmart")}})}else showMessage("OFFLINE: Cannot sync with HaulSmart");else{var o,t=window.db.transaction("polygons","readwrite").objectStore("polygons");try{o=t.getAll()}catch(e){console.log(e)}o.onsuccess=function(e){delete o.result[0].id,geojson=o.result,L.geoJson(o.result[0],{style:areaStyle,onEachFeature:onEachFeature}).addTo(map);for(var t=0;t<geojson.features.length;t++){var r=L.marker([geojson.features[t].properties.lat,geojson.features[t].properties.lng],{icon:L.icon({iconUrl:"/images/bh_blue.png?n=1",iconSize:[2,2],iconAnchor:[1,1]}),tap:!1}).addTo(map);r.bindTooltip(geojson.features[t].properties.Block,{permanent:!0,direction:"right",offset:[0,0],className:"patternmarkers"}),patternmarkers.addLayer(r)}},o.onerror=function(){console.error("read db error",this.error)}}}function onEachFeature(e,o){o.on({click:onClick})}function areaStyle(e){return{strokeColor:e.properties.strokeColor,fillColor:e.properties.fillColor,fillOpacity:0,weight:1,opacity:1}}function onClick(e){getBounds(blastKey=e.target.feature.properties.Key)}function getBounds(e){for(var o=L.latLngBounds(),t=0;t<geojson.features.length;t++)if(geojson.features[t].properties.Key===e&&"Polygon"==geojson.features[t].geometry.type)for(var r=geojson.features[t].geometry.coordinates[0],n=0;n<r.length;n++)o.extend(L.latLng(r[n][1],r[n][0]));map.fitBounds(o),map.panTo(o.getCenter())}function getholedata(){$.getJSON("https://www.haulsmart.com/apis/holedata.php?id=so_gw_295_08",(function(e){holemarkers.clearLayers();for(var o=0;o<e.features.length;o++){var t=e.features[o].geometry.coordinates,r=e.features[o].properties.Hole+"<br/>"+e.features[o].properties.HoleType+"<br/>"+(e.features[o].properties.Collar-e.features[o].properties.Toe)+"m",n=L.marker([t[1],t[0]],{icon:holeIcon,id:e.features[o].properties.Hole,type:e.features[o].properties.HoleType,collar:e.features[o].properties.Collar,toe:e.features[o].properties.Toe,dia:e.features[o].properties.Dia,tap:!1}).addTo(map);n.myID=o,n.on("click",(function(e){onHoleClick(e.target.myID)})).bindPopup(r),holemarkers.addLayer(n),addHole(e.features[o].properties.Blast,e.features[o].properties.Hole,e.features[o].properties.HoleType,e.features[o].properties.Collar,e.features[o].properties.Toe,e.features[o].properties.Angle,e.features[o].properties.Dipped,t[1],t[0])}}))}function onHoleClick(e){getHole(e)}function patternStyle(e){return{i:e.properties.fillColor,fillColor:e.properties.fillColor,fillOpacity:0,weight:1,opacity:1}}function openDb(){var e=indexedDB.open(window.DB_NAME,window.DB_VERSION);e.onsuccess=function(e){window.db=this.result,null===localStorage.getItem("pattern")&&void 0===localStorage.getItem("pattern")||getPattern(localStorage.getItem("pattern"))},e.onerror=function(e){console.error("openDb:",e.target.errorCode)},e.onupgradeneeded=function(e){e.currentTarget.result.createObjectStore("polygons",{keyPath:"id",autoIncrement:!0});var o=e.currentTarget.result.createObjectStore(window.DB_STORE_NAME,{keyPath:"id",autoIncrement:!0});o.createIndex("id","id",{unique:!0}),o.createIndex("blast","blast",{unique:!1}),o.createIndex("hole","hole",{unique:!1}),o.createIndex("holetype","holetype",{unique:!1}),o.createIndex("collar","collar",{unique:!1}),o.createIndex("toe","toe",{unique:!1}),o.createIndex("angle","angle",{unique:!1}),o.createIndex("dipped","dipped",{unique:!1}),o.createIndex("lat","lat",{unique:!1}),o.createIndex("lng","lng",{unique:!1})}}function addHole(e,o,t,r,n,a,i,l,s){var c,d={blast:e,hole:o,holetype:t,collar:r,toe:n,angle:a,dipped:i,lat:l,lng:s},p=window.db.transaction(window.DB_STORE_NAME,"readwrite").objectStore(window.DB_STORE_NAME);try{c=p.add(d)}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}c.onsuccess=function(e){},c.onerror=function(){console.error("addHole error",this.error)}}function getPattern(e){holemarkers.clearLayers();var o,t=window.db.transaction(window.DB_STORE_NAME,"readwrite").objectStore(window.DB_STORE_NAME);try{o=t.getAll()}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}o.onsuccess=function(t){let r=o.result;patterndata=o.result;for(var n=L.latLngBounds(),a=0;a<r.length;a++)if(r[a].blast==e){var i=(r[a].collar-r[a].toe).toFixed(1),l=r[a].dipped-i;if(1*r[a].dipped==0)var s=L.icon({iconUrl:"/images/bh_white.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else if(l>-.3&&l<.3)s=L.icon({iconUrl:"/images/bh_green.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else if(l>-.5&&l<.5)s=L.icon({iconUrl:"/images/bh_orange.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else s=L.icon({iconUrl:"/images/bh_red.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});var c="<div><label>Pattern: "+r[a].blast+"</label><br/><label>Hole: "+r[a].hole+"</label><br/><label>Type: "+r[a].holetype+"</label><br/><label>Depth: "+i+"</label><br/><label>Dipped:</label><input id='dippedval' autocomplete='off' style='margin-left:10px;width:100px' onchange=\"setHole()\" value=''><br/><br/><input type='button' value='OK' style='width:200px' onclick=\"setHole()\"/><br/><br/><input type='button' value='Cancel' style='width:200px' onclick=\"map.closePopup()\"/>";n.extend(L.latLng(r[a].lat,r[a].lng));var d=L.marker([r[a].lat,r[a].lng],{icon:s,id:r[a].id,hole:r[a].hole,type:r[a].holetype,collar:r[a].collar,toe:r[a].toe,dipped:r[a].dipped,tap:!1}).addTo(map);d.myID=r[a].id,d.on("click",(function(e){onHoleClick(e.target.myID)})).bindTooltip(r[a].hole,{permanent:!0,direction:"right",offset:[10,0],className:"leaflet-tooltip-own"}).bindPopup(c,window.customOptions),holemarkers.addLayer(d)}holemarkers.eachLayer((function(e){var o=1*e.options.Collar-1*e.options.Toe;e.options.dipped})),map.fitBounds(n),map.panTo(n.getCenter())},o.onerror=function(){console.error("read db error",this.error)}}function getHole(e){var o,t=window.db.transaction(window.DB_STORE_NAME,"readwrite").objectStore(window.DB_STORE_NAME);try{o=t.get(e)}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}o.onsuccess=function(e){window.holeObj=o.result;o.result.collar,o.result.toe;$("#dippedval").val(window.holeObj.dipped)},o.onerror=function(){console.error("read db error",this.error)}}function setHole(){var e=1*$("#dippedval").val();window.holeObj.dipped=e;var o=1*window.holeObj.collar-1*window.holeObj.toe,t=e-(o=o.toFixed(1));if(holemarkers.eachLayer((function(e){e.options.hole===window.holeObj.hole&&holemarkers.removeLayer(e)})),0===e)var r=L.icon({iconUrl:"/images/bh_white.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else if(t>-.3&&t<.3)r=L.icon({iconUrl:"/images/bh_green.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else if(t>-.5&&t<.5)r=L.icon({iconUrl:"/images/bh_orange.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});else r=L.icon({iconUrl:"/images/bh_red.png?n=1",iconSize:[10,10],iconAnchor:[5,5]});window.holeObj.blast,window.holeObj.hole,window.holeObj.holetype;var n=L.marker([window.holeObj.lat,window.holeObj.lng],{icon:r,id:window.holeObj.id,hole:window.holeObj.hole,type:window.holeObj.holetype,collar:window.holeObj.collar,toe:window.holeObj.toe,dipped:window.holeObj.dipped,tap:!1}).addTo(map);n.myID=window.holeObj.id,n.on("click",(function(e){onHoleClick(e.target.myID)})),holemarkers.addLayer(n);var a,i=window.db.transaction(window.DB_STORE_NAME,"readwrite").objectStore(window.DB_STORE_NAME);try{a=i.put(window.holeObj)}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}a.onsuccess=function(e){map.closePopup(),uploadHole(window.holeObj)},a.onerror=function(){console.error("read db error",this.error)}}function uploadHole(){"true"==localStorage.getItem("bh_database")&&(!0===navigator.onLine?$.ajax({url:"https://www.haulsmart.com/apis/setHole.php",type:"POST",data:{json:JSON.stringify(window.holeObj)},timeout:1e4,error:function(){},dataType:"text",success:function(e){showMessage("Hole updated on HaulSmart"),map.closePopup()}}):showMessage("OFFLINE: Hole not updated on HaulSmart"))}function uploadPattern(){!0===navigator.onLine&&$.ajax({url:"https://www.haulsmart.com/apis/setPattern.php",type:"POST",crossDomain:!0,data:{json:JSON.stringify(patterdata)},timeout:1e4,error:function(){},dataType:"text",success:function(e){showMessage(e)}})}function holesort(){window.holedata.sort((function(e,o){var t=e.hole.toUpperCase(),r=o.hole.toUpperCase();return t<r?-1:t>r?1:0})),sortWorksheet()}function gpssort(){for(var e=0;e<window.holedata.length;e++){var o=getDistance([currentlat,currentlng],[window.holedata[e].lat,window.holedata[e].lng]);window.holedata[e].distance=o}window.holedata.sort((function(e,o){return parseFloat(e.distance)-parseFloat(o.distance)})),sortWorksheet()}function sortWorksheet(){var e="<img src='images/btn-close@2x.png' style='cursor:pointer;margin-left:5px;width:50px;height:50px;' onclick=\"$('#worksheet').hide();$('#lpanel').hide();$('#panelout').show();$('#panelin').hide()\" ><label style='margin-left:20px;font:bold 30px Arial'><?php echo $id;?></label><div style='text-align:left;font:Bold 30px Arial'></div><br/>";e+="<input type='button' value='Hole Sort' class='btn' style='margin-left:10px;width:150px;font:normal 20px Arial' onclick=\"holesort()\" /><input type='button' value='GPS Sort' class='btn' style='margin-left:10px;width:150px;font:normal 20px Arial' onclick=\"gpssort()\" /><br/><div><table id='diptable' style='margin-left:10px;text-align:center;font:normal 20px Arial'><br/>",e+="<tr><th style='width:70px' >Hole No</th><th style='width:70px'>Design Depth</th><th style='width:70px'>Redrills</th><th style='width:70px'>Dipped Depth</th><th style='width:70px'>Water</th><th style='width:70px'>Backfill</th><th style='width:70px'>Stemmed</th><th style='width:70px'>Comments</th><tr/>";for(var o=0;o<window.holedata.length;o++){var t=(window.holedata[o].collar-window.holedata[o].toe).toFixed(1),r=window.holedata[o].dipped-t;if(1*window.holedata[o].dipped==0)var n="white";else if(r>-.3&&r<.3)n="green";else if(r>-.5&&r<.5)n="orange";else n="red";e+="<tr><td><input type='text' id='hid"+window.holedata[o].id+"' readonly  class='save' readonly style='width:70px;font:normal 20px Arial' value='"+window.holedata[o].hole+"'/></td><td><input type='number' id='ded"+window.holedata[o].id+"' class='save' readonly style='width:70px;font:normal 20px Arial' value='"+t+"'/></td><td><input type='number' id='red"+window.holedata[o].id+"' class='save' style='width:70px;font:normal 20px Arial' value=''/></td><td><input type='number' id='did"+window.holedata[o].id+"' class='save' style='width:70px;font:normal 20px Arial;background-color:"+n+"' value='"+window.holedata[o].dipped+"'/></td><td><input type='number' id='wat"+window.holedata[o].id+"' class='save' style='width:70px;font:normal 20px Arial' value=''/></td><td><input type='number' id='baf"+window.holedata[o].id+"' class='save' style='width:70px;font:normal 20px Arial' value=''/></td><td><input type='number' id='stm"+window.holedata[o].id+"' class='save' style='width:70px;font:normal 20px Arial' value=''/></td><td><textarea id='com"+window.holedata[o].id+"' class='save' style='width:300px;height:25px;font:normal 20px Arial' ></textarea></td><tr/>"}e+="</table></div>",$("#worksheet").html(e).show(),$(".save").bind("change",(function(){var e=$(this).attr("id").substr(3);e*=1;var o,t=window.db.transaction(window.DB_STORE_NAME,"readwrite").objectStore(window.DB_STORE_NAME);try{o=t.get(e)}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}o.onsuccess=function(r){window.holeObj=o.result;o.result.collar,o.result.toe;$("#dippedval").val(window.holeObj.dipped);var n=1*$("#did"+e).val();window.holeObj.dipped=n;(1*window.holeObj.collar-1*window.holeObj.toe).toFixed(1);try{o=t.put(window.holeObj)}catch(e){throw"DataCloneError"==e.name&&console.log("This engine doesn't know how to clone a Blob, use Firefox"),e}o.onsuccess=function(e){},o.onerror=function(){console.error("read db error",this.error)}},o.onerror=function(){console.error("read db error",this.error)}}))}function getDistance(e,o){var t=toRadian(e[1]),r=toRadian(e[0]),n=toRadian(o[1]),a=toRadian(o[0]),i=a-r,l=n-t,s=Math.pow(Math.sin(i/2),2)+Math.cos(r)*Math.cos(a)*Math.pow(Math.sin(l/2),2);return 6371*(2*Math.asin(Math.sqrt(s)))*1e3}function toRadian(e){return e*Math.PI/180}function centerUser(){map.setView(new L.LatLng(currentlat,currentlng),18)}function centerSite(){map.setView(new L.LatLng(currentlat,currentlng),18)}window.customOptions={className:"custom-popup"},map,$(document).ready((function(){initMap(),navigator.geolocation?wpid=navigator.geolocation.getCurrentPosition(displayAndWatch,locError,{maximumAge:0,timeout:1e3,enableHighAccuracy:!0}):showMessage("Your browser does not support the Geolocation API")})),setInterval((function(){navigator.geolocation&&(wpid=navigator.geolocation.getCurrentPosition(displayAndWatch,locError,{maximumAge:0,timeout:1e3,enableHighAccuracy:!0}))}),5e3),window.db,window.DB_NAME="blasts",window.DB_VERSION=1,window.DB_STORE_NAME="patterns",window.holeObj,"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))})),$("#uploadForm").submit((function(e){e.preventDefault(),e.stopPropagation();var o=document.getElementById("csv").files[0],t=document.getElementById("csv").value;t.slice(0,12);if("csv"===t.substr(t.lastIndexOf(".")+1)){var r=new FileReader;r.readAsText(o),r.onload=function(e){var o="Hole,Lng,Lat,Collar,Toe,Dia,Brg,Angle\n"+e.target.result,t=JSON.stringify($.csv.toObjects(o));let r=$("#pattern").val();var n="https://www.haulsmart.com/apis/drillcsvjson.php?id="+r+"&username="+localStorage.getItem("email")+"&password="+localStorage.getItem("password")+"&lat="+currentlat+"&lng="+currentlng;$.ajax({url:n,type:"POST",dataType:"json",crossDomain:!0,data:{json:t},success:function(e){localStorage.setItem("pattern",r),holemarkers.clearLayers();var o=L.latLngBounds();let t=e[0];L.geoJson(e[1],{style:areaStyle,onEachFeature:onEachFeature}).addTo(map);for(var n=0;n<t.features.length;n++){var a=t.features[n].geometry.coordinates;o.extend([a[1],a[0]]);var i=(t.features[n].properties.Collar-t.features[n].properties.Toe).toFixed(1),l="<div><label>Pattern: "+t.features[n].properties.Blast+"</label><br/><label>Hole: "+t.features[n].properties.Hole+"</label><br/><label>Type: "+t.features[n].properties.HoleType+"</label><br/><label>Depth: "+i+"</label><br/><label>Dipped:</label><input id='dippedval' autocomplete='off' style='margin-left:10px;width:100px' onchange=\"setHole()\" value=''><br/><br/><input type='button' value='OK' style='width:200px' onclick=\"setHole()\"/><br/><br/><input type='button' value='Cancel' style='width:200px' onclick=\"map.closePopup()\"/>",s=L.marker([a[1],a[0]],{icon:L.icon({iconUrl:"/images/bh_white.png?n=1",iconSize:[10,10],iconAnchor:[5,5]}),id:t.features[n].properties.Hole,type:t.features[n].properties.HoleType,collar:t.features[n].properties.Collar,toe:t.features[n].properties.Toe,dia:t.features[n].properties.Dia,tap:!1}).addTo(map);s.myID=n,s.on("click",(function(e){onHoleClick(e.target.myID)})).bindPopup(l),holemarkers.addLayer(s),addHole(t.features[n].properties.Blast,t.features[n].properties.Hole,t.features[n].properties.HoleType,t.features[n].properties.Collar,t.features[n].properties.Toe,t.features[n].properties.Angle,t.features[n].properties.Dipped,a[1],a[0])}map.fitBounds(o),map.panTo(o.getCenter()),$("#uploadform").hide()}})}}else showMessage("Please ensure you upload a csv file")}))</script><script>!function(e){function t(t){for(var n,l,i=t[0],f=t[1],a=t[2],p=0,s=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(c&&c(t);s.length;)s.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,i=1;i<r.length;i++){var f=r[i];0!==o[f]&&(n=!1)}n&&(u.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={1:0},u=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=this.webpackJsonpclient=this.webpackJsonpclient||[],f=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var c=f;r()}([])</script><script src="/static/js/2.c9a63344.chunk.js"></script><script src="/static/js/main.c5e7fc00.chunk.js"></script></body></html>